
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Health Guardian</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      window.process = window.process || { env: {} };
      
      window.onerror = function(msg, url, lineNo, columnNo, error) {
        const root = document.getElementById('root');
        if (root && (root.innerHTML.trim() === '' || root.innerHTML.includes('Starting'))) {
          root.innerHTML = `
            <div style="padding: 40px; font-family: -apple-system, sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; background: #f8fafc; text-align: center;">
              <div style="background: white; padding: 40px; border-radius: 32px; box-shadow: 0 20px 50px rgba(0,0,0,0.05); max-width: 400px; border: 1px solid #f1f5f9;">
                <div style="font-size: 48px; margin-bottom: 20px;">üõ°Ô∏è</div>
                <h1 style="font-size: 20px; font-weight: 800; color: #1e293b; margin-bottom: 12px; text-transform: uppercase; letter-spacing: 1px;">System Recovery</h1>
                <p style="font-size: 14px; color: #64748b; line-height: 1.6; margin-bottom: 24px;">The app encountered an unexpected state. This usually happens after a major update.</p>
                <button onclick="localStorage.clear(); location.reload();" style="background: #4f46e5; color: white; border: none; padding: 14px 28px; border-radius: 16px; cursor: pointer; font-weight: 800; font-size: 12px; letter-spacing: 1px; text-transform: uppercase; box-shadow: 0 10px 20px rgba(79, 70, 229, 0.2);">Reset & Reload Application</button>
              </div>
            </div>
          `;
        }
        return false;
      };
    </script>
<script type="importmap">
{
  "imports": {
    "@google/genai": "https://esm.sh/@google/genai@1.34.0",
    "react": "https://esm.sh/react@19.0.0",
    "react/": "https://esm.sh/react@19.0.0/",
    "react-dom": "https://esm.sh/react-dom@19.0.0",
    "react-dom/": "https://esm.sh/react-dom@19.0.0/",
    "react-dom/client": "https://esm.sh/react-dom@19.0.0/client",
    "recharts": "https://esm.sh/recharts@3.6.0?external=react,react-dom",
    "@supabase/supabase-js": "https://esm.sh/@supabase/supabase-js@2.45.0"
  }
}
</script>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap');
  body { font-family: 'Plus Jakarta Sans', sans-serif; }
  #root:empty::before { content: ''; }
  .glass { background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.4); }
</style>
</head>
<body class="bg-[#F2F2F7] text-slate-900 overflow-x-hidden">
    <div id="root">
      <div class="flex flex-col items-center justify-center min-h-screen bg-[#F2F2F7]">
        <div class="w-10 h-10 border-[3px] border-indigo-100 border-t-indigo-600 rounded-full animate-spin mb-4"></div>
        <p class="text-indigo-600 font-extrabold text-[10px] uppercase tracking-[0.3em]">Initializing Guardian</p>
      </div>
    </div>
    <script type="module" src="./index.tsx"></script>
</body>
</html>
