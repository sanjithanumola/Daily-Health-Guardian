
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Health Guardian</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      // Shim process.env to prevent ReferenceErrors in the browser
      window.process = window.process || { env: {} };
      
      // Global error handler to help diagnose "Blank Page" issues
      window.onerror = function(msg, url, lineNo, columnNo, error) {
        const root = document.getElementById('root');
        if (root && root.innerHTML.trim() === '' || root.innerHTML.includes('Initializing')) {
          root.innerHTML = `
            <div style="padding: 20px; font-family: sans-serif; color: #ef4444; background: #fef2f2; border: 1px solid #fee2e2; border-radius: 12px; margin: 20px;">
              <h1 style="font-size: 18px; font-weight: bold; margin-bottom: 10px;">Application Load Error</h1>
              <p style="font-size: 14px; margin-bottom: 10px;">${msg}</p>
              <pre style="font-size: 12px; background: #fff; padding: 10px; border-radius: 6px; overflow: auto;">${error?.stack || 'No stack trace available'}</pre>
              <button onclick="location.reload()" style="background: #ef4444; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-weight: bold;">Try Again</button>
            </div>
          `;
        }
        return false;
      };
    </script>
<script type="importmap">
{
  "imports": {
    "@google/genai": "https://esm.sh/@google/genai@1.34.0",
    "react": "https://esm.sh/react@19.0.0",
    "react/": "https://esm.sh/react@19.0.0/",
    "react-dom": "https://esm.sh/react-dom@19.0.0",
    "react-dom/": "https://esm.sh/react-dom@19.0.0/",
    "react-dom/client": "https://esm.sh/react-dom@19.0.0/client",
    "recharts": "https://esm.sh/recharts@3.6.0?external=react,react-dom",
    "@supabase/supabase-js": "https://esm.sh/@supabase/supabase-js@2.45.0"
  }
}
</script>
<style>
  #root:empty::before {
    content: '';
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    font-family: system-ui, -apple-system, sans-serif;
    color: #6366f1;
    background: #f8fafc;
  }
</style>
</head>
<body class="bg-slate-50 text-slate-900 font-sans">
    <div id="root">
      <!-- Loading state that shows while JS is downloading -->
      <div class="flex flex-col items-center justify-center min-h-screen">
        <div class="w-12 h-12 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin mb-4"></div>
        <p class="text-indigo-600 font-bold animate-pulse">Starting Health Guardian...</p>
      </div>
    </div>
    <script type="module" src="./index.tsx"></script>
</body>
</html>
